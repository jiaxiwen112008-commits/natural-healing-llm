<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindGarden - åŸºäºè‡ªç„¶ç–—æ„ˆçš„å­¦ç”Ÿå‹åŠ›å¹²é¢„AIå¹³å°</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', 'Noto Sans SC', sans-serif;
            background-color: #F9FBF7;
            background-image: linear-gradient(to bottom, rgba(137, 195, 74, 0.05), rgba(100, 181, 246, 0.05));
            min-height: 100vh;
            line-height: 1.6;
        }

        /* è‡ªç„¶ä¸»é¢˜é…è‰² */
        :root {
            --primary-green: #689F38;
            --light-green: #8BC34A;
            --dark-green: #558B2F;
            --sky-blue: #64B5F6;
            --light-blue: #90CAF9;
            --dark-blue: #42A5F5;
            --sun-yellow: #FFEE58;
            --light-yellow: #FFF59D;
            --flower-pink: #F48FB1;
            --light-pink: #F8BBD0;
            --text-primary: #2E3B2E;
            --text-secondary: #5C6D63;
            --text-disabled: #A5B1A6;
            --bg-default: #F9FBF7;
            --bg-paper: #FFFFFF;
        }

        /* å¯¼èˆªæ  */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-green);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-menu a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: var(--primary-green);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-primary);
            cursor: pointer;
        }

        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .main-content {
            margin-top: 80px;
            min-height: calc(100vh - 80px);
        }

        /* é¡µé¢å®¹å™¨ */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* è‹±é›„åŒºåŸŸ */
        .hero {
            background: linear-gradient(135deg, var(--light-green), var(--light-blue));
            padding: 6rem 0;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-100px); }
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #fff, #e8f5e8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        /* æŒ‰é’®æ ·å¼ */
        .btn {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-green), var(--sky-blue));
            color: white;
            box-shadow: 0 4px 15px rgba(104, 159, 56, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(104, 159, 56, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .btn-outline:hover {
            background: var(--primary-green);
            color: white;
        }

        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: var(--bg-paper);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: 2rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        /* å®¹å™¨ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section {
            padding: 4rem 0;
        }

        /* ç½‘æ ¼å¸ƒå±€ */
        .grid {
            display: grid;
            gap: 2rem;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        /* è¯„ä¼°é¡µé¢æ ·å¼ */
        .assessment-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 3rem;
        }

        .step {
            display: flex;
            align-items: center;
            margin: 0 1rem;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light-green);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .step.active .step-number {
            background: var(--primary-green);
        }

        .step.completed .step-number {
            background: var(--sky-blue);
        }

        /* è¡¨å•æ ·å¼ */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-green);
        }

        .form-control.error {
            border-color: var(--flower-pink);
        }

        /* é—®å·é€‰é¡¹ */
        .question {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: var(--bg-paper);
            border-radius: 8px;
            border-left: 4px solid var(--primary-green);
        }

        .question h3 {
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
        }

        .option-btn {
            padding: 12px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .option-btn:hover {
            border-color: var(--primary-green);
            background: rgba(104, 159, 56, 0.05);
        }

        .option-btn.selected {
            border-color: var(--primary-green);
            background: var(--primary-green);
            color: white;
        }

        /* ç»“æœé¡µé¢ */
        .result-card {
            background: linear-gradient(135deg, var(--light-green), var(--light-blue));
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
        }

        .stress-level {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .intervention-card {
            background: var(--bg-paper);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary-green);
        }

        /* èŠå¤©ç•Œé¢ */
        .chat-container {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            height: 300px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background: #f9f9f9;
        }

        .message {
            margin-bottom: 1rem;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            max-width: 80%;
        }

        .message.user {
            background: var(--light-blue);
            color: white;
            margin-left: auto;
        }

        .message.bot {
            background: white;
            border: 1px solid #e0e0e0;
        }

        .chat-input {
            display: flex;
            padding: 1rem;
            border-top: 1px solid #e0e0e0;
        }

        .chat-input input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            margin-right: 0.5rem;
        }

        /* å¹²é¢„å®éªŒå®¤ */
        .intervention-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .intervention-card {
            background: var(--bg-paper);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .intervention-card:hover {
            transform: translateY(-5px);
        }

        .intervention-image {
            height: 200px;
            background: linear-gradient(135deg, var(--light-green), var(--light-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
        }

        .intervention-content {
            padding: 1.5rem;
        }

        .intervention-content h3 {
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .intervention-content p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .benefits {
            list-style: none;
        }

        .benefits li {
            padding: 0.25rem 0;
            color: var(--text-secondary);
        }

        .benefits li::before {
            content: 'âœ“';
            color: var(--primary-green);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .grid-3 {
                grid-template-columns: 1fr;
            }

            .options {
                grid-template-columns: 1fr;
            }
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* éšè—ç±» */
        .hidden {
            display: none !important;
        }

        /* é¡µè„š */
        .footer {
            background: var(--text-primary);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-top: 4rem;
        }

        .footer p {
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo" onclick="showPage('home')">
                <i class="fas fa-leaf"></i>
                MindGarden
            </a>
            <ul class="nav-menu">
                <li><a href="#" onclick="showPage('home')" class="nav-link active">é¦–é¡µ</a></li>
                <li><a href="#" onclick="showPage('assessment')" class="nav-link">å‹åŠ›è¯„ä¼°</a></li>
                <li><a href="#" onclick="showPage('intervention')" class="nav-link">å¹²é¢„å®éªŒå®¤</a></li>
                <li><a href="#" onclick="showPage('map')" class="nav-link">å…¨çƒåœ°å›¾</a></li>
            </ul>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <main class="main-content">
        <!-- é¦–é¡µ -->
        <div id="home" class="page active">
            <section class="hero">
                <div class="hero-content">
                    <h1>MindGarden</h1>
                    <p>åŸºäºè‡ªç„¶ç–—æ„ˆçš„å­¦ç”Ÿå‹åŠ›å¹²é¢„AIå¹³å°</p>
                    <p>å°†ç§‘ç ”æˆæœï¼ˆNH+EEï¼‰åº”ç”¨äºå­¦ç”Ÿç«¯ï¼Œå®ç°"å®éªŒå®¤åˆ°æ•™å®¤"çš„è½¬æ¢ï¼Œé€šè¿‡AIæŠ€æœ¯æä¾›ä¸ªæ€§åŒ–çš„è‡ªç„¶ç–—æ„ˆå¹²é¢„æ–¹æ¡ˆï¼Œå¸®åŠ©å­¦ç”Ÿç¼“è§£å‹åŠ›ï¼Œæå‡å¿ƒç†å¥åº·æ°´å¹³ã€‚</p>
                    <div style="margin-top: 2rem;">
                        <a href="#" class="btn btn-primary" onclick="showPage('assessment')">å¼€å§‹è¯„ä¼°</a>
                        <a href="#" class="btn btn-outline" onclick="showPage('intervention')" style="margin-left: 1rem;">æ¢ç´¢å¹²é¢„æ–¹æ¡ˆ</a>
                    </div>
                </div>
            </section>

            <section class="section">
                <div class="container">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--text-primary);">å¹³å°ç‰¹è‰²åŠŸèƒ½</h2>
                    <div class="grid grid-3">
                        <div class="card">
                            <div style="text-align: center; margin-bottom: 1rem;">
                                <i class="fas fa-clipboard-check" style="font-size: 3rem; color: var(--primary-green);"></i>
                            </div>
                            <h3 style="margin-bottom: 1rem;">ç§‘ç ”é©±åŠ¨çš„å‹åŠ›è¯„ä¼°</h3>
                            <p style="color: var(--text-secondary);">åŸºäºè‡ªç„¶ç–—æ„ˆ(NH)å’Œç¯å¢ƒæ•™è‚²(EE)çš„ç§‘ç ”æˆæœï¼Œæä¾›ä¸“ä¸šçš„å‹åŠ›è¯„ä¼°å·¥å…·ï¼Œå¸®åŠ©å­¦ç”Ÿäº†è§£è‡ªå·±çš„å‹åŠ›çŠ¶æ€ã€‚</p>
                        </div>
                        <div class="card">
                            <div style="text-align: center; margin-bottom: 1rem;">
                                <i class="fas fa-flask" style="font-size: 3rem; color: var(--sky-blue);"></i>
                            </div>
                            <h3 style="margin-bottom: 1rem;">åœ¨çº¿å¹²é¢„å®éªŒå®¤</h3>
                            <p style="color: var(--text-secondary);">æä¾›ä¸ªæ€§åŒ–çš„è‡ªç„¶ç–—æ„ˆå¹²é¢„æ–¹æ¡ˆï¼ŒåŒ…æ‹¬è‡ªç„¶å£°éŸ³ã€å¼•å¯¼å¼å†¥æƒ³ã€è™šæ‹Ÿè‡ªç„¶ç¯å¢ƒç­‰å¤šç§å¹²é¢„æ–¹å¼ã€‚</p>
                        </div>
                        <div class="card">
                            <div style="text-align: center; margin-bottom: 1rem;">
                                <i class="fas fa-globe" style="font-size: 3rem; color: var(--sun-yellow);"></i>
                            </div>
                            <h3 style="margin-bottom: 1rem;">å…¨çƒå­¦ç”Ÿå‹åŠ›åœ°å›¾</h3>
                            <p style="color: var(--text-secondary);">æ±‡é›†å…¨çƒå­¦ç”Ÿå‹åŠ›æ•°æ®ï¼Œå±•ç¤ºä¸åŒåœ°åŒºã€ä¸åŒå­¦æ®µå­¦ç”Ÿçš„å‹åŠ›çŠ¶å†µï¼Œä¸ºæ•™è‚²å·¥ä½œè€…æä¾›å†³ç­–å‚è€ƒã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" style="background: var(--bg-default);">
                <div class="container">
                    <div class="grid grid-2" style="align-items: center;">
                        <div>
                            <h2 style="margin-bottom: 1rem; color: var(--text-primary);">ç§‘ç ”é©±åŠ¨çš„å¹²é¢„æ¨èå¼•æ“</h2>
                            <p style="margin-bottom: 1rem; color: var(--text-secondary);">MindGardenå¹³å°åŸºäºè‡ªç„¶ç–—æ„ˆ(NH)å’Œç¯å¢ƒæ•™è‚²(EE)çš„ç§‘ç ”æˆæœï¼Œç»“åˆDeepSeekå¤§æ¨¡å‹æŠ€æœ¯ï¼Œæ„å»ºäº†æ™ºèƒ½å¹²é¢„æ¨èå¼•æ“ï¼Œä¸ºå­¦ç”Ÿæä¾›ä¸ªæ€§åŒ–çš„å‹åŠ›å¹²é¢„æ–¹æ¡ˆã€‚</p>
                            <p style="color: var(--text-secondary);">æˆ‘ä»¬çš„ç ”ç©¶è¡¨æ˜ï¼Œæ¥è§¦è‡ªç„¶ç¯å¢ƒèƒ½æ˜¾è‘—é™ä½å­¦ç”Ÿçš„å‹åŠ›æ°´å¹³ï¼Œæå‡æ³¨æ„åŠ›æ¢å¤å’Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›ã€‚å¹³å°å°†è¿™äº›ç§‘ç ”å‘ç°è½¬åŒ–ä¸ºå¯å®è·µçš„å¹²é¢„æ–¹æ¡ˆï¼Œå¸®åŠ©å­¦ç”Ÿåœ¨æ—¥å¸¸å­¦ä¹ ç”Ÿæ´»ä¸­åº”ç”¨ã€‚</p>
                        </div>
                        <div class="card">
                            <h3 style="margin-bottom: 1rem; color: var(--primary-green);">ç§‘ç ”æ•°æ®æ”¯æŒ</h3>
                            <div class="grid grid-2">
                                <div style="text-align: center; padding: 1rem; background: rgba(104, 159, 56, 0.1); border-radius: 8px;">
                                    <div style="font-size: 2rem; font-weight: 700; color: var(--primary-green);">78%</div>
                                    <div style="color: var(--text-secondary);">å‹åŠ›æ°´å¹³é™ä½ç‡</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: rgba(100, 181, 246, 0.1); border-radius: 8px;">
                                    <div style="font-size: 2rem; font-weight: 700; color: var(--sky-blue);">65%</div>
                                    <div style="color: var(--text-secondary);">æ³¨æ„åŠ›æ¢å¤æå‡</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: rgba(255, 238, 88, 0.1); border-radius: 8px;">
                                    <div style="font-size: 2rem; font-weight: 700; color: var(--sun-yellow);">83%</div>
                                    <div style="color: var(--text-secondary);">ç”¨æˆ·æ»¡æ„åº¦</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: rgba(244, 143, 177, 0.1); border-radius: 8px;">
                                    <div style="font-size: 2rem; font-weight: 700; color: var(--flower-pink);">71%</div>
                                    <div style="color: var(--text-secondary);">æƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›æå‡</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- å‹åŠ›è¯„ä¼°é¡µé¢ -->
        <div id="assessment" class="page">
            <section class="hero">
                <div class="hero-content">
                    <h1>AIå‹åŠ›è¯„ä¼°</h1>
                    <p>åŸºäºè‡ªç„¶ç–—æ„ˆç†è®ºçš„ä¸ªæ€§åŒ–å‹åŠ›è¯„ä¼°ä¸å¹²é¢„æ¨è</p>
                    <p>å®Œæˆä»¥ä¸‹è¯„ä¼°ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨DeepSeekå¤§æ¨¡å‹åˆ†ææ‚¨çš„å‹åŠ›çŠ¶å†µï¼Œå¹¶æä¾›ä¸ªæ€§åŒ–çš„è‡ªç„¶ç–—æ„ˆå¹²é¢„å»ºè®®</p>
                </div>
            </section>

            <section class="section">
                <div class="assessment-container">
                    <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
                    <div class="step-indicator">
                        <div class="step active" id="step1">
                            <div class="step-number">1</div>
                            <span>åŸºæœ¬ä¿¡æ¯</span>
                        </div>
                        <div class="step" id="step2">
                            <div class="step-number">2</div>
                            <span>å‹åŠ›è¯„ä¼°é—®å·</span>
                        </div>
                        <div class="step" id="step3">
                            <div class="step-number">3</div>
                            <span>åˆ†æç»“æœ</span>
                        </div>
                    </div>

                    <!-- æ­¥éª¤1ï¼šåŸºæœ¬ä¿¡æ¯ -->
                    <div id="assessment-step1" class="assessment-step">
                        <div class="card">
                            <h2 style="margin-bottom: 1rem;">è¯·å¡«å†™æ‚¨çš„åŸºæœ¬ä¿¡æ¯</h2>
                            <div class="form-group">
                                <label for="name">å§“å</label>
                                <input type="text" id="name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="age">å¹´é¾„</label>
                                <input type="number" id="age" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="gender">æ€§åˆ«</label>
                                <select id="gender" class="form-control" required>
                                    <option value="">è¯·é€‰æ‹©</option>
                                    <option value="ç”·">ç”·</option>
                                    <option value="å¥³">å¥³</option>
                                    <option value="å…¶ä»–">å…¶ä»–</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="occupation">èŒä¸š/å­¦ç”Ÿç±»å‹</label>
                                <input type="text" id="occupation" class="form-control" placeholder="ä¾‹å¦‚ï¼šé«˜ä¸­ç”Ÿã€å¤§å­¦ç”Ÿã€ç ”ç©¶ç”Ÿç­‰" required>
                            </div>
                        </div>
                    </div>

                    <!-- æ­¥éª¤2ï¼šé—®å· -->
                    <div id="assessment-step2" class="assessment-step hidden">
                        <div class="card">
                            <h2 style="margin-bottom: 1rem;">å‹åŠ›è¯„ä¼°é—®å·</h2>
                            <p style="margin-bottom: 2rem; color: var(--text-secondary);">è¯·æ ¹æ®æ‚¨çš„å®é™…æƒ…å†µå›ç­”ä»¥ä¸‹é—®é¢˜ï¼Œè¿™å°†å¸®åŠ©æˆ‘ä»¬æ›´å‡†ç¡®åœ°è¯„ä¼°æ‚¨çš„å‹åŠ›çŠ¶å†µã€‚</p>
                            
                            <div class="question">
                                <h3>1. åœ¨è¿‡å»çš„ä¸€å‘¨ä¸­ï¼Œæ‚¨æ„Ÿåˆ°ç´§å¼ æˆ–ç„¦è™‘çš„é¢‘ç‡å¦‚ä½•ï¼Ÿ</h3>
                                <div class="options">
                                    <button class="option-btn" data-question="1" data-value="0">ä»ä¸</button>
                                    <button class="option-btn" data-question="1" data-value="1">å¶å°”</button>
                                    <button class="option-btn" data-question="1" data-value="2">æœ‰æ—¶</button>
                                    <button class="option-btn" data-question="1" data-value="3">ç»å¸¸</button>
                                    <button class="option-btn" data-question="1" data-value="4">æ€»æ˜¯</button>
                                </div>
                            </div>

                            <div class="question">
                                <h3>2. åœ¨é¢å¯¹å­¦ä¸šå‹åŠ›æ—¶ï¼Œæ‚¨é€šå¸¸ä¼šå¦‚ä½•åº”å¯¹ï¼Ÿ</h3>
                                <div class="options">
                                    <button class="option-btn" data-question="2" data-value="0">ç§¯æå¯»æ±‚è§£å†³æ–¹æ¡ˆ</button>
                                    <button class="option-btn" data-question="2" data-value="1">å¯»æ±‚ç¤¾äº¤æ”¯æŒ</button>
                                    <button class="option-btn" data-question="2" data-value="2">å°è¯•æ”¾æ¾æ´»åŠ¨</button>
                                    <button class="option-btn" data-question="2" data-value="3">å›é¿æˆ–æ‹–å»¶</button>
                                    <button class="option-btn" data-question="2" data-value="4">æ„Ÿåˆ°æ— åŠ©æˆ–æ²®ä¸§</button>
                                </div>
                            </div>

                            <div class="question">
                                <h3>3. æ‚¨çš„ç¡çœ è´¨é‡å¦‚ä½•ï¼Ÿ</h3>
                                <div class="options">
                                    <button class="option-btn" data-question="3" data-value="0">éå¸¸å¥½</button>
                                    <button class="option-btn" data-question="3" data-value="1">è‰¯å¥½</button>
                                    <button class="option-btn" data-question="3" data-value="2">ä¸€èˆ¬</button>
                                    <button class="option-btn" data-question="3" data-value="3">è¾ƒå·®</button>
                                    <button class="option-btn" data-question="3" data-value="4">éå¸¸å·®</button>
                                </div>
                            </div>

                            <div class="question">
                                <h3>4. æ‚¨å¤šä¹…ä¼šæ„Ÿåˆ°èº«ä½“ç–²åŠ³æˆ–ç²¾åŠ›ä¸è¶³ï¼Ÿ</h3>
                                <div class="options">
                                    <button class="option-btn" data-question="4" data-value="0">å‡ ä¹ä¸ä¼š</button>
                                    <button class="option-btn" data-question="4" data-value="1">æ¯æœˆå‡ æ¬¡</button>
                                    <button class="option-btn" data-question="4" data-value="2">æ¯å‘¨å‡ æ¬¡</button>
                                    <button class="option-btn" data-question="4" data-value="3">å‡ ä¹æ¯å¤©</button>
                                    <button class="option-btn" data-question="4" data-value="4">ä¸€å¤©å¤šæ¬¡</button>
                                </div>
                            </div>

                            <div class="question">
                                <h3>5. æ‚¨ä¸è‡ªç„¶ç¯å¢ƒæ¥è§¦çš„é¢‘ç‡å¦‚ä½•ï¼Ÿ</h3>
                                <div class="options">
                                    <button class="option-btn" data-question="5" data-value="0">æ¯å¤©éƒ½æœ‰</button>
                                    <button class="option-btn" data-question="5" data-value="1">æ¯å‘¨å‡ æ¬¡</button>
                                    <button class="option-btn" data-question="5" data-value="2">æ¯æœˆå‡ æ¬¡</button>
                                    <button class="option-btn" data-question="5" data-value="3">å¾ˆå°‘</button>
                                    <button class="option-btn" data-question="5" data-value="4">å‡ ä¹æ²¡æœ‰</button>
                                </div>
                            </div>

                            <div class="form-group" style="margin-top: 2rem;">
                                <label for="description">è¯·ç®€è¦æè¿°æ‚¨æœ€è¿‘æ„Ÿåˆ°å‹åŠ›çš„æƒ…å†µå’Œå¯èƒ½çš„åŸå› ï¼ˆè‡³å°‘50å­—ï¼‰</label>
                                <textarea id="description" class="form-control" rows="4" placeholder="ä¾‹å¦‚ï¼šæœ€è¿‘æœŸæœ«è€ƒè¯•ä¸´è¿‘ï¼Œæˆ‘æ„Ÿåˆ°éå¸¸ç„¦è™‘ï¼Œç»å¸¸å¤±çœ ï¼Œæ³¨æ„åŠ›éš¾ä»¥é›†ä¸­..." required></textarea>
                                <small id="char-count" style="color: var(--text-secondary);">0/50å­—</small>
                            </div>
                        </div>
                    </div>

                    <!-- æ­¥éª¤3ï¼šç»“æœ -->
                    <div id="assessment-step3" class="assessment-step hidden">
                        <div id="loading-result" class="loading">
                            <div class="spinner"></div>
                            <div style="margin-left: 1rem;">æ­£åœ¨åˆ†ææ‚¨çš„å‹åŠ›çŠ¶å†µ...</div>
                        </div>
                        <div id="assessment-result" class="hidden">
                            <!-- ç»“æœå†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>

                    <!-- å¯¼èˆªæŒ‰é’® -->
                    <div style="display: flex; justify-content: space-between; margin-top: 2rem;">
                        <button class="btn btn-outline" id="prev-btn" onclick="previousStep()" style="display: none;">ä¸Šä¸€æ­¥</button>
                        <button class="btn btn-primary" id="next-btn" onclick="nextStep()">ä¸‹ä¸€æ­¥</button>
                    </div>
                </div>
            </section>
        </div>

        <!-- å¹²é¢„å®éªŒå®¤é¡µé¢ -->
        <div id="intervention" class="page">
            <section class="hero">
                <div class="hero-content">
                    <h1>è‡ªç„¶å¹²é¢„å®éªŒå®¤</h1>
                    <p>æ¢ç´¢åŸºäºè‡ªç„¶çš„å‹åŠ›å¹²é¢„æ–¹æ¡ˆï¼Œæ‰¾åˆ°é€‚åˆæ‚¨çš„æ”¾æ¾æ–¹å¼</p>
                    <p>æˆ‘ä»¬çš„å¹²é¢„å®éªŒå®¤æ±‡é›†äº†å¤šç§ç»ç§‘å­¦éªŒè¯çš„è‡ªç„¶ç–—æ³•ï¼Œå¸®åŠ©æ‚¨ç¼“è§£å‹åŠ›ã€ç„¦è™‘å’ŒæŠ‘éƒã€‚æ¯ç§æ–¹æ³•éƒ½åŸºäºä¸¥è°¨çš„ç ”ç©¶ï¼Œå¹¶æä¾›äº†è¯¦ç»†çš„å®è·µæŒ‡å—ã€‚</p>
                </div>
            </section>

            <section class="section">
                <div class="container">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--text-primary);">è‡ªç„¶ç–—æ³•å¹²é¢„æ–¹æ¡ˆ</h2>
                    <div class="intervention-grid">
                        <div class="intervention-card">
                            <div class="intervention-image">
                                <i class="fas fa-tree"></i>
                            </div>
                            <div class="intervention-content">
                                <h3>æ£®æ—æµ´ç–—æ³•</h3>
                                <p>æ£®æ—æµ´æ˜¯ä¸€ç§é€šè¿‡åœ¨æ£®æ—ç¯å¢ƒä¸­æ¼«æ­¥ã€å‘¼å¸å’Œæ„Ÿå—è‡ªç„¶æ¥å‡è½»å‹åŠ›çš„æ–¹æ³•ã€‚ç ”ç©¶è¡¨æ˜ï¼Œæ£®æ—æµ´å¯ä»¥é™ä½çš®è´¨é†‡æ°´å¹³ã€å‡å°‘ç„¦è™‘ï¼Œå¹¶æ”¹å–„æ•´ä½“å¿ƒç†å¥åº·ã€‚</p>
                                <ul class="benefits">
                                    <li>é™ä½çš®è´¨é†‡ï¼ˆå‹åŠ›æ¿€ç´ ï¼‰æ°´å¹³</li>
                                    <li>å‡å°‘ç„¦è™‘å’ŒæŠ‘éƒç—‡çŠ¶</li>
                                    <li>å¢å¼ºå…ç–«ç³»ç»ŸåŠŸèƒ½</li>
                                    <li>æ”¹å–„æ³¨æ„åŠ›å’Œè®¤çŸ¥èƒ½åŠ›</li>
                                    <li>ä¿ƒè¿›èº«å¿ƒæ”¾æ¾</li>
                                </ul>
                            </div>
                        </div>

                        <div class="intervention-card">
                            <div class="intervention-image">
                                <i class="fas fa-om"></i>
                            </div>
                            <div class="intervention-content">
                                <h3>æ­£å¿µå†¥æƒ³</h3>
                                <p>æ­£å¿µå†¥æƒ³æ˜¯ä¸€ç§é€šè¿‡ä¸“æ³¨äºå½“ä¸‹æ—¶åˆ»ã€æ¥å—è€Œä¸è¯„åˆ¤å½“å‰ä½“éªŒçš„å¿ƒç†è®­ç»ƒæ–¹æ³•ã€‚å®šæœŸç»ƒä¹ å¯ä»¥å‡è½»å‹åŠ›ã€ç„¦è™‘å’ŒæŠ‘éƒç—‡çŠ¶ï¼Œæé«˜ä¸“æ³¨åŠ›å’Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›ã€‚</p>
                                <ul class="benefits">
                                    <li>å‡è½»æ…¢æ€§å‹åŠ›å’Œç„¦è™‘</li>
                                    <li>æé«˜ä¸“æ³¨åŠ›å’Œæ³¨æ„åŠ›</li>
                                    <li>å¢å¼ºæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›</li>
                                    <li>æ”¹å–„ç¡çœ è´¨é‡</li>
                                    <li>å¢å¼ºè‡ªæˆ‘æ„è¯†å’ŒåŒç†å¿ƒ</li>
                                </ul>
                            </div>
                        </div>

                        <div class="intervention-card">
                            <div class="intervention-image">
                                <i class="fas fa-water"></i>
                            </div>
                            <div class="intervention-content">
                                <h3>æ°´ç–—æ³•</h3>
                                <p>æ°´ç–—æ³•åˆ©ç”¨æ°´çš„ç‰©ç†ç‰¹æ€§ï¼ˆå¦‚æ¸©åº¦ã€å‹åŠ›å’Œæµ®åŠ›ï¼‰æ¥ä¿ƒè¿›èº«å¿ƒå¥åº·ã€‚ä»çƒ­æ°´æµ´åˆ°å†·æ°´æµ¸æ³¡ï¼Œä¸åŒå½¢å¼çš„æ°´ç–—å¯ä»¥å‡è½»è‚Œè‚‰ç´§å¼ ã€ä¿ƒè¿›è¡€æ¶²å¾ªç¯å¹¶è¯±å¯¼æ”¾æ¾ååº”ã€‚</p>
                                <ul class="benefits">
                                    <li>ç¼“è§£è‚Œè‚‰ç´§å¼ å’Œç–¼ç—›</li>
                                    <li>ä¿ƒè¿›è¡€æ¶²å¾ªç¯</li>
                                    <li>å‡è½»å…³èŠ‚å‹åŠ›</li>
                                    <li>ä¿ƒè¿›æ·±åº¦æ”¾æ¾</li>
                                    <li>æ”¹å–„çš®è‚¤å¥åº·</li>
                                </ul>
                            </div>
                        </div>

                        <div class="intervention-card">
                            <div class="intervention-image">
                                <i class="fas fa-spa"></i>
                            </div>
                            <div class="intervention-content">
                                <h3>èŠ³é¦™ç–—æ³•</h3>
                                <p>èŠ³é¦™ç–—æ³•ä½¿ç”¨æ¤ç‰©ç²¾æ²¹çš„é¦™æ°”æ¥æ”¹å–„èº«å¿ƒå¥åº·ã€‚ä¸åŒçš„ç²¾æ²¹å…·æœ‰ä¸åŒçš„æ²»ç–—ç‰¹æ€§ï¼Œå¦‚è–°è¡£è‰ä¿ƒè¿›æ”¾æ¾ï¼ŒæŸ‘æ©˜æå‡æƒ…ç»ªï¼Œè¿·è¿­é¦™å¢å¼ºè®¤çŸ¥åŠŸèƒ½ã€‚</p>
                                <ul class="benefits">
                                    <li>å‡è½»å‹åŠ›å’Œç„¦è™‘</li>
                                    <li>æ”¹å–„ç¡çœ è´¨é‡</li>
                                    <li>ç¼“è§£å¤´ç—›å’Œåå¤´ç—›</li>
                                    <li>æå‡æƒ…ç»ªå’Œç²¾ç¥çŠ¶æ€</li>
                                    <li>æ”¯æŒå…ç–«ç³»ç»ŸåŠŸèƒ½</li>
                                </ul>
                            </div>
                        </div>

                        <div class="intervention-card">
                            <div class="intervention-image">
                                <i class="fas fa-music"></i>
                            </div>
                            <div class="intervention-content">
                                <h3>éŸ³ä¹ç–—æ³•</h3>
                                <p>éŸ³ä¹ç–—æ³•åˆ©ç”¨éŸ³ä¹çš„å…ƒç´ ï¼ˆå¦‚èŠ‚å¥ã€æ—‹å¾‹å’Œå’Œå£°ï¼‰æ¥æ”¹å–„èº«å¿ƒå¥åº·ã€‚æ— è®ºæ˜¯ä¸»åŠ¨å‚ä¸éŸ³ä¹åˆ›ä½œè¿˜æ˜¯è¢«åŠ¨è†å¬ï¼ŒéŸ³ä¹éƒ½èƒ½å½±å“å¤§è„‘æ´»åŠ¨ï¼Œè°ƒèŠ‚æƒ…ç»ªå’Œç”Ÿç†ååº”ã€‚</p>
                                <ul class="benefits">
                                    <li>é™ä½å‹åŠ›æ¿€ç´ æ°´å¹³</li>
                                    <li>å‡è½»ç„¦è™‘å’ŒæŠ‘éƒç—‡çŠ¶</li>
                                    <li>æ”¹å–„æƒ…ç»ªå’Œå¿ƒç†çŠ¶æ€</li>
                                    <li>ä¿ƒè¿›æ”¾æ¾å’Œç¡çœ </li>
                                    <li>å¢å¼ºè®¤çŸ¥åŠŸèƒ½å’Œè®°å¿†åŠ›</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" style="background: var(--bg-default);">
                <div class="container">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--text-primary);">ç§‘å­¦ä¾æ®</h2>
                    <div class="card">
                        <h3 style="margin-bottom: 1rem; color: var(--primary-green);">è‡ªç„¶ç–—æ³•çš„ç ”ç©¶åŸºç¡€</h3>
                        <p style="margin-bottom: 1rem;">å¤§é‡ç ”ç©¶è¡¨æ˜ï¼Œä¸è‡ªç„¶ç¯å¢ƒçš„æ¥è§¦å¯¹äººç±»çš„èº«å¿ƒå¥åº·æœ‰æ˜¾è‘—çš„ç§¯æå½±å“ã€‚ä¾‹å¦‚ï¼Œ2019å¹´å‘è¡¨åœ¨ã€Šç§‘å­¦æŠ¥å‘Šã€‹ä¸Šçš„ä¸€é¡¹ç ”ç©¶å‘ç°ï¼Œæ¯å‘¨åœ¨è‡ªç„¶ç¯å¢ƒä¸­è‡³å°‘èŠ±è´¹120åˆ†é’Ÿä¸å¥åº·å’Œå¹¸ç¦æ„Ÿæ˜¾è‘—ç›¸å…³ã€‚</p>
                        <p style="margin-bottom: 1rem;">å¦ä¸€é¡¹å‘è¡¨åœ¨ã€Šå›½é™…ç¯å¢ƒç ”ç©¶ä¸å…¬å…±å«ç”Ÿæ‚å¿—ã€‹ä¸Šçš„ç ”ç©¶è¡¨æ˜ï¼Œæ£®æ—æµ´å¯ä»¥é™ä½çš®è´¨é†‡æ°´å¹³ã€è¡€å‹å’Œå¿ƒç‡ï¼ŒåŒæ—¶å¢å¼ºå‰¯äº¤æ„Ÿç¥ç»ç³»ç»Ÿæ´»åŠ¨ï¼Œä¿ƒè¿›æ”¾æ¾ååº”ã€‚</p>
                        <p style="margin-bottom: 1rem;">æ­£å¿µå†¥æƒ³çš„æ•ˆæœä¹Ÿå¾—åˆ°äº†å¹¿æ³›ç ”ç©¶ã€‚å“ˆä½›åŒ»å­¦é™¢çš„ç ”ç©¶è¡¨æ˜ï¼Œæ­£å¿µå†¥æƒ³å¯ä»¥æ”¹å˜å¤§è„‘ç»“æ„ï¼Œå¢åŠ ä¸å­¦ä¹ ã€è®°å¿†ã€æƒ…ç»ªè°ƒèŠ‚å’Œè‡ªæˆ‘æ„è¯†ç›¸å…³çš„è„‘åŒºå¯†åº¦ï¼ŒåŒæ—¶å‡å°‘ä¸å‹åŠ›ã€ç„¦è™‘å’Œææƒ§ç›¸å…³çš„è„‘åŒºæ´»åŠ¨ã€‚</p>
                        <p>æˆ‘ä»¬çš„å¹²é¢„æ–¹æ¡ˆåŸºäºè¿™äº›ç§‘å­¦ç ”ç©¶ï¼Œæ—¨åœ¨æä¾›æœ‰æ•ˆã€å¯è¡Œçš„è‡ªç„¶ç–—æ³•ï¼Œå¸®åŠ©æ‚¨ç®¡ç†å‹åŠ›ï¼Œæå‡å¿ƒç†å¥åº·ã€‚</p>
                    </div>
                </div>
            </section>

            <section class="section">
                <div class="container">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--text-primary);">å¼€å§‹æ‚¨çš„è‡ªç„¶ç–—æ„ˆä¹‹æ—…</h2>
                    <div class="grid grid-2">
                        <div style="text-align: center;">
                            <h3 style="margin-bottom: 1rem;">ä¸ç¡®å®šå“ªç§æ–¹æ³•é€‚åˆæ‚¨ï¼Ÿ</h3>
                            <p style="margin-bottom: 1rem; color: var(--text-secondary);">å®Œæˆæˆ‘ä»¬çš„å‹åŠ›è¯„ä¼°ï¼Œè·å–ä¸ªæ€§åŒ–çš„å¹²é¢„å»ºè®®ã€‚</p>
                            <a href="#" class="btn btn-primary" onclick="showPage('assessment')">å¼€å§‹è¯„ä¼°</a>
                        </div>
                        <div style="text-align: center;">
                            <h3 style="margin-bottom: 1rem;">æƒ³äº†è§£å…¨çƒè‡ªç„¶ç–—æ³•å®è·µæƒ…å†µï¼Ÿ</h3>
                            <p style="margin-bottom: 1rem; color: var(--text-secondary);">æ¢ç´¢æˆ‘ä»¬çš„å…¨çƒåœ°å›¾ï¼ŒæŸ¥çœ‹ä¸–ç•Œå„åœ°çš„è‡ªç„¶ç–—æ³•å®è·µå’Œç ”ç©¶ã€‚</p>
                            <a href="#" class="btn btn-outline" onclick="showPage('map')">æŸ¥çœ‹å…¨çƒåœ°å›¾</a>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- å…¨çƒåœ°å›¾é¡µé¢ -->
        <div id="map" class="page">
            <section class="hero">
                <div class="hero-content">
                    <h1>å…¨çƒå­¦ç”Ÿå‹åŠ›åœ°å›¾</h1>
                    <p>æ¢ç´¢å…¨çƒå­¦ç”Ÿå‹åŠ›çŠ¶å†µå’Œè‡ªç„¶ç–—æ³•å®è·µæƒ…å†µ</p>
                </div>
            </section>

            <section class="section">
                <div class="container">
                    <div class="card">
                        <h2 style="margin-bottom: 1rem; color: var(--text-primary);">å…¨çƒå‹åŠ›æ•°æ®æ¦‚è§ˆ</h2>
                        <p style="margin-bottom: 2rem; color: var(--text-secondary);">åŸºäºå…¨çƒå­¦ç”Ÿå‹åŠ›æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸åŒåœ°åŒºã€ä¸åŒå­¦æ®µå­¦ç”Ÿçš„å‹åŠ›çŠ¶å†µåˆ†å¸ƒã€‚</p>
                        
                        <div class="grid grid-3">
                            <div style="text-align: center; padding: 1rem; background: rgba(104, 159, 56, 0.1); border-radius: 8px;">
                                <div style="font-size: 2rem; font-weight: 700; color: var(--primary-green);">15,000+</div>
                                <div style="color: var(--text-secondary);">å‚ä¸å­¦ç”Ÿ</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: rgba(100, 181, 246, 0.1); border-radius: 8px;">
                                <div style="font-size: 2rem; font-weight: 700; color: var(--sky-blue);">45+</div>
                                <div style="color: var(--text-secondary);">å›½å®¶/åœ°åŒº</div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: rgba(255, 238, 88, 0.1); border-radius: 8px;">
                                <div style="font-size: 2rem; font-weight: 700; color: var(--sun-yellow);">85%</div>
                                <div style="color: var(--text-secondary);">æ”¹å–„ç‡</div>
                            </div>
                        </div>

                        <div style="margin-top: 2rem; padding: 2rem; background: var(--bg-default); border-radius: 8px;">
                            <h3 style="margin-bottom: 1rem; color: var(--text-primary);">åœ°å›¾åŠŸèƒ½å¼€å‘ä¸­</h3>
                            <p style="color: var(--text-secondary);">æˆ‘ä»¬æ­£åœ¨å¼€å‘äº¤äº’å¼å…¨çƒåœ°å›¾åŠŸèƒ½ï¼Œå°†å±•ç¤ºï¼š</p>
                            <ul style="margin-top: 1rem; color: var(--text-secondary);">
                                <li>å„åœ°åŒºå­¦ç”Ÿå‹åŠ›æ°´å¹³çƒ­åŠ›å›¾</li>
                                <li>ä¸åŒå¹²é¢„æ–¹å¼çš„æ•ˆæœå¯¹æ¯”</li>
                                <li>å­£èŠ‚æ€§å‹åŠ›å˜åŒ–è¶‹åŠ¿</li>
                                <li>æ–‡åŒ–èƒŒæ™¯å¯¹å‹åŠ›ç®¡ç†çš„å½±å“</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <p><strong>MindGarden</strong> - åŸºäºè‡ªç„¶ç–—æ„ˆçš„å­¦ç”Ÿå‹åŠ›å¹²é¢„AIå¹³å°</p>
            <p>Â© 2024 MindGarden. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
        </div>
    </footer>

    <!-- å¼•å…¥é…ç½®æ–‡ä»¶ -->
    <script src="config.js"></script>
    
    <script>
        // å…¨å±€å˜é‡
        let currentStep = 1;
        let userAnswers = {};
        let assessmentData = {};
        let chatMessages = [];

        // é¡µé¢å¯¼èˆª
        function showPage(pageId) {
            // éšè—æ‰€æœ‰é¡µé¢
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // æ˜¾ç¤ºç›®æ ‡é¡µé¢
            document.getElementById(pageId).classList.add('active');
            
            // æ›´æ–°å¯¼èˆªé“¾æ¥çŠ¶æ€
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
        function toggleMobileMenu() {
            const navMenu = document.querySelector('.nav-menu');
            navMenu.style.display = navMenu.style.display === 'flex' ? 'none' : 'flex';
        }

        // è¯„ä¼°æ­¥éª¤å¯¼èˆª
        function nextStep() {
            if (currentStep === 1) {
                // éªŒè¯åŸºæœ¬ä¿¡æ¯
                const name = document.getElementById('name').value.trim();
                const age = document.getElementById('age').value.trim();
                const gender = document.getElementById('gender').value;
                const occupation = document.getElementById('occupation').value.trim();
                
                if (!name || !age || !gender || !occupation) {
                    alert('è¯·å¡«å†™æ‰€æœ‰åŸºæœ¬ä¿¡æ¯');
                    return;
                }
                
                assessmentData = { name, age, gender, occupation };
                showAssessmentStep(2);
            } else if (currentStep === 2) {
                // éªŒè¯é—®å·ç­”æ¡ˆ
                if (Object.keys(userAnswers).length < 5) {
                    alert('è¯·å›ç­”æ‰€æœ‰é—®é¢˜');
                    return;
                }
                
                const description = document.getElementById('description').value.trim();
                if (description.length < 50) {
                    alert('è¯·è‡³å°‘è¾“å…¥50å­—çš„æè¿°');
                    return;
                }
                
                assessmentData.description = description;
                showAssessmentStep(3);
                submitAssessment();
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                showAssessmentStep(currentStep - 1);
            }
        }

        function showAssessmentStep(step) {
            currentStep = step;
            
            // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
            document.querySelectorAll('.step').forEach((stepEl, index) => {
                stepEl.classList.remove('active', 'completed');
                if (index + 1 < step) {
                    stepEl.classList.add('completed');
                } else if (index + 1 === step) {
                    stepEl.classList.add('active');
                }
            });
            
            // æ˜¾ç¤ºå¯¹åº”æ­¥éª¤å†…å®¹
            document.querySelectorAll('.assessment-step').forEach(stepEl => {
                stepEl.classList.add('hidden');
            });
            document.getElementById(`assessment-step${step}`).classList.remove('hidden');
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.style.display = step > 1 ? 'block' : 'none';
            
            if (step === 3) {
                nextBtn.style.display = 'none';
            } else {
                nextBtn.style.display = 'block';
                nextBtn.textContent = step === 2 ? 'æäº¤è¯„ä¼°' : 'ä¸‹ä¸€æ­¥';
            }
        }

        // é—®å·é€‰é¡¹é€‰æ‹©
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('option-btn')) {
                const questionId = parseInt(e.target.dataset.question);
                const value = parseInt(e.target.dataset.value);
                
                // ç§»é™¤åŒé—®é¢˜çš„å…¶ä»–é€‰ä¸­çŠ¶æ€
                document.querySelectorAll(`[data-question="${questionId}"]`).forEach(btn => {
                    btn.classList.remove('selected');
                });
                
                // æ·»åŠ é€‰ä¸­çŠ¶æ€
                e.target.classList.add('selected');
                
                // ä¿å­˜ç­”æ¡ˆ
                userAnswers[questionId] = value;
            }
        });

        // å­—ç¬¦è®¡æ•°
        document.getElementById('description').addEventListener('input', function(e) {
            const count = e.target.value.length;
            document.getElementById('char-count').textContent = `${count}/50å­— ${count < 50 ? '(è¯·è‡³å°‘è¾“å…¥50å­—)' : ''}`;
        });

        // æäº¤è¯„ä¼°
        async function submitAssessment() {
            const loadingEl = document.getElementById('loading-result');
            const resultEl = document.getElementById('assessment-result');
            
            loadingEl.classList.remove('hidden');
            resultEl.classList.add('hidden');
            
            try {
                // è®¡ç®—å‹åŠ›åˆ†æ•°
                const totalScore = Object.values(userAnswers).reduce((sum, score) => sum + score, 0);
                const maxScore = CONFIG.MAX_SCORE;
                const percentage = (totalScore / maxScore) * 100;
                
                let stressLevel, stressIcon, stressColor;
                if (percentage < CONFIG.LOW_STRESS_THRESHOLD) {
                    stressLevel = 'ä½å‹åŠ›';
                    stressIcon = 'ğŸ˜Š';
                    stressColor = 'var(--primary-green)';
                } else if (percentage < CONFIG.MEDIUM_STRESS_THRESHOLD) {
                    stressLevel = 'ä¸­ç­‰å‹åŠ›';
                    stressIcon = 'ğŸ˜';
                    stressColor = 'var(--sun-yellow)';
                } else {
                    stressLevel = 'é«˜å‹åŠ›';
                    stressIcon = 'ğŸ˜°';
                    stressColor = 'var(--flower-pink)';
                }
                
                // è°ƒç”¨DeepSeek APIè¿›è¡ŒAIåˆ†æ
                let aiResponse;
                try {
                    aiResponse = await callDeepSeekAPI(assessmentData, userAnswers, stressLevel, totalScore);
                } catch (apiError) {
                    console.warn('APIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨åˆ†æ:', apiError);
                    // å¦‚æœAPIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°åˆ†æ
                    aiResponse = {
                        analysis: generateAnalysis(assessmentData, stressLevel, totalScore),
                        interventions: generateInterventions(stressLevel),
                        tip: generateTip(stressLevel)
                    };
                }
                
                // æ˜¾ç¤ºç»“æœ
                setTimeout(() => {
                    loadingEl.classList.add('hidden');
                    resultEl.classList.remove('hidden');
                    
                    resultEl.innerHTML = `
                        <div class="result-card">
                            <div class="stress-level" style="color: ${stressColor};">
                                ${stressIcon} å‹åŠ›æ°´å¹³: ${stressLevel}
                            </div>
                            <p>å‹åŠ›å¾—åˆ†: ${totalScore}åˆ†ï¼ˆæ€»åˆ†${maxScore}åˆ†ï¼‰</p>
                        </div>
                        
                        <div class="card" style="margin-bottom: 1rem;">
                            <h3 style="margin-bottom: 1rem; color: var(--primary-green);">å‹åŠ›çŠ¶å†µåˆ†æ</h3>
                            <p>${aiResponse.analysis}</p>
                        </div>
                        
                        <div class="card" style="margin-bottom: 1rem;">
                            <h3 style="margin-bottom: 1rem; color: var(--primary-green);">ä¸ªæ€§åŒ–å¹²é¢„å»ºè®®</h3>
                            ${aiResponse.interventions.map(intervention => `
                                <div class="intervention-card">
                                    <h4 style="margin-bottom: 0.5rem;">${intervention.method}</h4>
                                    <p style="margin-bottom: 0.5rem; color: var(--text-secondary);">${intervention.effect}</p>
                                    <small style="color: var(--text-secondary);">${intervention.reason}</small>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="card" style="background: rgba(104, 159, 56, 0.1);">
                            <h3 style="margin-bottom: 1rem; color: var(--primary-green);">
                                <i class="fas fa-lightbulb"></i> æ—¥å¸¸å®è·µå°è´´å£«
                            </h3>
                            <p>${aiResponse.tip}</p>
                        </div>
                        
                        <div style="text-align: center; margin-top: 2rem;">
                            <a href="#" class="btn btn-primary" onclick="showPage('intervention')">æ¢ç´¢æ›´å¤šå¹²é¢„æ–¹æ¡ˆ</a>
                        </div>
                        
                        <div style="margin-top: 2rem;">
                            <h3 style="margin-bottom: 1rem; color: var(--primary-green);">æ™ºèƒ½å¯¹è¯</h3>
                            <div class="chat-container">
                                <div class="chat-messages" id="chat-messages">
                                    <div class="message bot">
                                        <strong>AIåŠ©æ‰‹ï¼š</strong>æ‚¨å¥½ï¼æ ¹æ®æ‚¨çš„è¯„ä¼°ç»“æœï¼Œæ‚¨çš„å‹åŠ›æ°´å¹³ä¸ºï¼š${stressLevel}ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶åœ¨ä¸‹æ–¹å¯¹è¯æ¡†ä¸­æé—®ã€‚
                                    </div>
                                </div>
                                <div class="chat-input">
                                    <input type="text" id="chat-input" placeholder="è¾“å…¥ä½ çš„æ¶ˆæ¯...">
                                    <button class="btn btn-primary" onclick="sendMessage()">å‘é€</button>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    // åˆå§‹åŒ–èŠå¤©æ¶ˆæ¯æ•°ç»„
                    chatMessages = [
                        { role: 'assistant', content: `æ‚¨å¥½ï¼æ ¹æ®æ‚¨çš„è¯„ä¼°ç»“æœï¼Œæ‚¨çš„å‹åŠ›æ°´å¹³ä¸ºï¼š${stressLevel}ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶åœ¨ä¸‹æ–¹å¯¹è¯æ¡†ä¸­æé—®ã€‚` }
                    ];
                }, 2000);
                
            } catch (error) {
                console.error('è¯„ä¼°æäº¤å¤±è´¥:', error);
                loadingEl.innerHTML = '<div style="color: var(--flower-pink);">è¯„ä¼°æäº¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•</div>';
            }
        }

        // è°ƒç”¨DeepSeek API
        async function callDeepSeekAPI(userData, answers, stressLevel, score) {
            if (!CONFIG.DEEPSEEK_API_KEY || CONFIG.DEEPSEEK_API_KEY === 'sk-b6c7c8c460e14cc0bf2dc5de2bc3e0bc') {
                throw new Error('è¯·é…ç½®æœ‰æ•ˆçš„DeepSeek APIå¯†é’¥');
            }

            const prompt = `
ä½œä¸ºä¸€ä½ä¸“ä¸šçš„è‡ªç„¶ç–—æ³•å¿ƒç†å’¨è¯¢å¸ˆï¼Œç²¾é€šè‡ªç„¶ç–—æ³•ã€æ£®ç”°ç–—æ³•ã€éŸ³ä¹ç–—æ³•å’Œä¸­åŒ»ç­‰é¢†åŸŸï¼Œè¯·æ‚¨æ ¹æ®ä»¥ä¸‹å­¦ç”Ÿçš„è¯¦ç»†ä¿¡æ¯å’Œè¯„ä¼°ç»“æœï¼Œæä¾›ä¸€ä»½æ—¢æ¸©æš–è´´å¿ƒåˆä¸“ä¸šå®ç”¨çš„å‹åŠ›çŠ¶å†µåˆ†æå’Œä¸ªæ€§åŒ–å¹²é¢„å»ºè®®ã€‚è¯·ç¡®ä¿æ‚¨çš„å›å¤èƒ½å¤Ÿä½“ç°å‡ºå¯¹å­¦ç”Ÿæƒ…ç»ªçš„ç†è§£ä¸æ”¯æŒï¼Œå¹¶ç»“åˆè‡ªç„¶ç–—æ³•ã€æ£®ç”°ç–—æ³•ã€éŸ³ä¹ç–—æ³•å’Œä¸­åŒ»ç­‰é¢†åŸŸçš„çŸ¥è¯†ï¼Œç»™å‡ºå…·ä½“ã€å¯æ“ä½œçš„å»ºè®®ã€‚

åŸºæœ¬ä¿¡æ¯ï¼š
- å§“åï¼š${userData.name}
- å¹´é¾„ï¼š${userData.age}
- æ€§åˆ«ï¼š${userData.gender}
- èŒä¸šï¼š${userData.occupation}

å‹åŠ›è¯„ä¼°é—®å·ç»“æœï¼š
- å‹åŠ›å¾—åˆ†ï¼š${score}åˆ†ï¼ˆæ€»åˆ†${CONFIG.MAX_SCORE}åˆ†ï¼‰
- å‹åŠ›æ°´å¹³ï¼š${stressLevel}

å­¦ç”Ÿçš„è‡ªæˆ‘æè¿°ï¼š
"${userData.description}"

è¯·æ‚¨ï¼š
1. æä¾›ä¸€ä»½æ·±å…¥ä¸”å¯Œæœ‰åŒæƒ…å¿ƒçš„å‹åŠ›çŠ¶å†µåˆ†æï¼ˆ200å­—ä»¥å†…ï¼‰ï¼Œè¯·åœ¨åˆ†æä¸­èå…¥å¯¹å­¦ç”Ÿæ„Ÿå—çš„ç†è§£å’Œè‚¯å®šã€‚
2. ç»™å‡ºä¸‰æ¡æœ€é€‚åˆè¯¥å­¦ç”Ÿçš„ã€ç§‘å­¦ä¸”å…·ä½“çš„è‡ªç„¶ç–—æ„ˆå¹²é¢„å»ºè®®ï¼Œæ¯æ¡å»ºè®®éœ€åŒ…å«è¯¦ç»†çš„æ–¹æ³•æ­¥éª¤ã€é¢„æœŸæ•ˆæœä»¥åŠä¸ºä½•é€‚åˆè¯¥å­¦ç”Ÿçš„ç®€è¦è¯´æ˜ã€‚
3. æä¾›ä¸€æ¡æ˜“äºèå…¥æ—¥å¸¸ç”Ÿæ´»çš„ã€ç§¯æå‘ä¸Šçš„å®è·µå°è´´å£«ï¼Œå¸®åŠ©å­¦ç”Ÿé€æ­¥æ”¹å–„ã€‚

å›å¤æ ¼å¼åº”ä¸ºJSONï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š
{"analysis": "å‹åŠ›çŠ¶å†µåˆ†æ", "interventions": [{"method": "æ–¹æ³•1", "effect": "é¢„æœŸæ•ˆæœ1", "reason": "é€‚åˆç†ç”±1"}, {"method": "æ–¹æ³•2", "effect": "é¢„æœŸæ•ˆæœ2", "reason": "é€‚åˆç†ç”±2"}, {"method": "æ–¹æ³•3", "effect": "é¢„æœŸæ•ˆæœ3", "reason": "é€‚åˆç†ç”±3"}], "tip": "æ—¥å¸¸å®è·µå°è´´å£«"}
            `;

            const response = await fetch(CONFIG.DEEPSEEK_API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${CONFIG.DEEPSEEK_API_KEY}`
                },
                body: JSON.stringify({
                    model: 'deepseek-chat',
                    messages: [{ role: 'user', content: prompt }],
                    temperature: 0.7,
                    max_tokens: 800
                })
            });

            if (!response.ok) {
                throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status}`);
            }

            const data = await response.json();
            let aiResponse;
            
            try {
                aiResponse = JSON.parse(data.choices[0].message.content);
            } catch (parseError) {
                console.error('è§£æAPIå“åº”å¤±è´¥:', parseError);
                // å¦‚æœè§£æå¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨å“åº”
                aiResponse = {
                    analysis: generateAnalysis(userData, stressLevel, score),
                    interventions: generateInterventions(stressLevel),
                    tip: generateTip(stressLevel)
                };
            }
            
            return aiResponse;
        }

        // ç”Ÿæˆåˆ†æç»“æœï¼ˆæ¨¡æ‹ŸAIåˆ†æï¼‰
        function generateAnalysis(data, stressLevel, score) {
            const templates = {
                'ä½å‹åŠ›': `æ ¹æ®è¯„ä¼°ï¼Œ${data.name}ç›®å‰å¤„äºä½å‹åŠ›çŠ¶æ€ï¼Œè¿™è¡¨æ˜æ‚¨æœ‰è‰¯å¥½çš„å‹åŠ›ç®¡ç†èƒ½åŠ›ã€‚æ‚¨çš„${data.age}å²å¹´é¾„å’Œ${data.gender}æ€§èº«ä»½ï¼Œä»¥åŠä½œä¸º${data.occupation}çš„ç‰¹ç‚¹ï¼Œéƒ½ä¸ºæ‚¨æä¾›äº†è‰¯å¥½çš„å¿ƒç†éŸ§æ€§åŸºç¡€ã€‚å»ºè®®ç»§ç»­ä¿æŒå½“å‰çš„å¥åº·ç”Ÿæ´»æ–¹å¼ã€‚`,
                'ä¸­ç­‰å‹åŠ›': `æ ¹æ®è¯„ä¼°ï¼Œ${data.name}ç›®å‰å¤„äºä¸­ç­‰å‹åŠ›çŠ¶æ€ã€‚ä½œä¸º${data.age}å²çš„${data.gender}æ€§${data.occupation}ï¼Œæ‚¨å¯èƒ½é¢ä¸´ä¸€äº›å­¦ä¸šæˆ–ç”Ÿæ´»å‹åŠ›ï¼Œä½†æ•´ä½“çŠ¶å†µå¯æ§ã€‚å»ºè®®é€‚å½“è°ƒæ•´ç”Ÿæ´»æ–¹å¼ï¼Œå¢åŠ è‡ªç„¶æ¥è§¦æ—¶é—´ï¼Œæœ‰åŠ©äºè¿›ä¸€æ­¥æ”¹å–„å‹åŠ›çŠ¶å†µã€‚`,
                'é«˜å‹åŠ›': `æ ¹æ®è¯„ä¼°ï¼Œ${data.name}ç›®å‰å¤„äºé«˜å‹åŠ›çŠ¶æ€ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨ã€‚ä½œä¸º${data.age}å²çš„${data.gender}æ€§${data.occupation}ï¼Œæ‚¨å¯èƒ½æ­£é¢ä¸´è¾ƒå¤§çš„å­¦ä¸šæˆ–ç”Ÿæ´»å‹åŠ›ã€‚å»ºè®®ç«‹å³é‡‡å–æœ‰æ•ˆçš„å‹åŠ›ç®¡ç†æªæ–½ï¼Œå¿…è¦æ—¶å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚`
            };
            return templates[stressLevel] || templates['ä¸­ç­‰å‹åŠ›'];
        }

        // ç”Ÿæˆå¹²é¢„å»ºè®®
        function generateInterventions(stressLevel) {
            const interventions = {
                'ä½å‹åŠ›': [
                    {
                        method: "æ—¥å¸¸è‡ªç„¶æ¥è§¦ç»´æŠ¤",
                        effect: "é€šè¿‡å®šæœŸæ¥è§¦è‡ªç„¶ç¯å¢ƒï¼Œç»´æŒå½“å‰è‰¯å¥½çš„å¿ƒç†çŠ¶æ€",
                        reason: "é€‚åˆæ‚¨å½“å‰çš„ä½å‹åŠ›çŠ¶æ€ï¼Œæœ‰åŠ©äºé¢„é˜²å‹åŠ›ç§¯ç´¯"
                    },
                    {
                        method: "æ­£å¿µå†¥æƒ³ç»ƒä¹ ",
                        effect: "è¿›ä¸€æ­¥æå‡è‡ªæˆ‘æ„è¯†å’Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›",
                        reason: "æ‚¨å·²æœ‰è‰¯å¥½çš„å‹åŠ›ç®¡ç†åŸºç¡€ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–"
                    },
                    {
                        method: "å¸®åŠ©ä»–äººå‡å‹",
                        effect: "é€šè¿‡å¸®åŠ©ä»–äººï¼Œå¢å¼ºè‡ªæˆ‘ä»·å€¼æ„Ÿå’Œå¿ƒç†éŸ§æ€§",
                        reason: "æ‚¨çš„è‰¯å¥½çŠ¶æ€å¯ä»¥æˆä¸ºä»–äººçš„æ”¯æŒåŠ›é‡"
                    }
                ],
                'ä¸­ç­‰å‹åŠ›': [
                    {
                        method: "æ¯æ—¥15åˆ†é’Ÿæ£®æ—æµ´å†¥æƒ³",
                        effect: "é€šè¿‡æƒ³è±¡æˆ–å®é™…æ¥è§¦æ£®æ—ç¯å¢ƒï¼Œé™ä½çš®è´¨é†‡æ°´å¹³ï¼Œç¼“è§£ç„¦è™‘æƒ…ç»ª",
                        reason: "é€‚åˆæ‚¨çš„ä¸­ç­‰å‹åŠ›æ°´å¹³ï¼Œèƒ½æœ‰æ•ˆç¼“è§£å½“å‰ç—‡çŠ¶"
                    },
                    {
                        method: "è‡ªç„¶å£°éŸ³è¾…åŠ©ç¡çœ ",
                        effect: "ä½¿ç”¨é›¨å£°ã€æºªæµç­‰è‡ªç„¶å£°éŸ³æ”¹å–„ç¡çœ è´¨é‡ï¼Œå‡å°‘å…¥ç¡æ—¶é—´",
                        reason: "ç¡çœ è´¨é‡æ”¹å–„å¯¹ä¸­ç­‰å‹åŠ›æ°´å¹³çš„å­¦ç”Ÿç‰¹åˆ«æœ‰æ•ˆ"
                    },
                    {
                        method: "å®¤å†…æ¤ç‰©å…»æŠ¤",
                        effect: "åœ¨å­¦ä¹ ç¯å¢ƒä¸­æ‘†æ”¾ç»¿æ¤ï¼Œæå‡ç©ºæ°”è´¨é‡ï¼Œå¢å¼ºæˆå°±æ„Ÿ",
                        reason: "é€‚åˆå­¦ç”Ÿç¾¤ä½“ï¼Œæ˜“äºå®æ–½ä¸”æ•ˆæœæ˜¾è‘—"
                    }
                ],
                'é«˜å‹åŠ›': [
                    {
                        method: "ä¸“ä¸šå¿ƒç†å’¨è¯¢",
                        effect: "é€šè¿‡ä¸“ä¸šæŒ‡å¯¼ï¼Œå¿«é€Ÿç¼“è§£é«˜å‹åŠ›çŠ¶æ€ï¼Œæ¢å¤å¿ƒç†å¹³è¡¡",
                        reason: "é«˜å‹åŠ›çŠ¶æ€éœ€è¦ä¸“ä¸šå¹²é¢„ï¼Œç¡®ä¿å®‰å…¨æœ‰æ•ˆ"
                    },
                    {
                        method: "æ¸è¿›å¼æ”¾æ¾è®­ç»ƒ",
                        effect: "é€šè¿‡ç³»ç»Ÿæ€§çš„æ”¾æ¾ç»ƒä¹ ï¼Œé€æ­¥é™ä½èº«ä½“ç´§å¼ åº¦",
                        reason: "é€‚åˆé«˜å‹åŠ›çŠ¶æ€ï¼Œèƒ½å¿«é€Ÿäº§ç”Ÿç¼“è§£æ•ˆæœ"
                    },
                    {
                        method: "ç¤¾äº¤æ”¯æŒç½‘ç»œ",
                        effect: "å»ºç«‹å’Œåˆ©ç”¨ç¤¾äº¤æ”¯æŒï¼Œè·å¾—æƒ…æ„Ÿæ”¯æŒå’Œå®é™…å¸®åŠ©",
                        reason: "é«˜å‹åŠ›çŠ¶æ€ä¸‹ï¼Œç¤¾ä¼šæ”¯æŒæ˜¯é‡è¦çš„ç¼“è§£å› ç´ "
                    }
                ]
            };
            return interventions[stressLevel] || interventions['ä¸­ç­‰å‹åŠ›'];
        }

        // ç”Ÿæˆæ—¥å¸¸å°è´´å£«
        function generateTip(stressLevel) {
            const tips = {
                'ä½å‹åŠ›': "ç»§ç»­ä¿æŒ'å¾®è‡ªç„¶'æ¥è§¦ä¹ æƒ¯ï¼šæ¯å¤©è‡³å°‘30åˆ†é’Ÿçš„è‡ªç„¶ç¯å¢ƒæ¥è§¦ï¼Œå¯ä»¥é€šè¿‡çª—å¤–è§‚æ™¯ã€æ¡Œé¢æ¤ç‰©ã€è‡ªç„¶å›¾ç‰‡å±ä¿ç­‰æ–¹å¼å®ç°ã€‚è¿™ç§æŒç»­çš„è‡ªç„¶æ¥è§¦èƒ½æœ‰æ•ˆé¢„é˜²å‹åŠ›ç§¯ç´¯ï¼Œç»´æŒè‰¯å¥½çš„å¿ƒç†çŠ¶æ€ã€‚",
                'ä¸­ç­‰å‹åŠ›': "å°è¯•'3-3-3'è‡ªç„¶æ¥è§¦æ³•ï¼šæ¯å¤©3æ¬¡ï¼Œæ¯æ¬¡3åˆ†é’Ÿï¼Œé€šè¿‡3ç§ä¸åŒçš„æ–¹å¼æ¥è§¦è‡ªç„¶ï¼ˆå¦‚çœ‹çª—å¤–é£æ™¯ã€å¬è‡ªç„¶å£°éŸ³ã€è§¦æ‘¸æ¤ç‰©ï¼‰ã€‚è¿™ç§è§„å¾‹æ€§çš„è‡ªç„¶æ¥è§¦èƒ½æ˜¾è‘—é™ä½ä¸­ç­‰å‹åŠ›æ°´å¹³ï¼Œæ”¹å–„æ•´ä½“å¿ƒç†å¥åº·ã€‚",
                'é«˜å‹åŠ›': "å®æ–½'ç´§æ€¥è‡ªç„¶ç–—æ³•'ï¼šå½“æ„Ÿåˆ°å‹åŠ›è¿‡å¤§æ—¶ï¼Œç«‹å³è¿›è¡Œ5åˆ†é’Ÿçš„è‡ªç„¶æ¥è§¦ï¼ˆå¦‚æ·±å‘¼å¸ã€çœ‹ç»¿è‰²æ¤ç‰©ã€å¬è‡ªç„¶å£°éŸ³ï¼‰ï¼Œç„¶åè¿›è¡Œ10åˆ†é’Ÿçš„æ¸è¿›å¼è‚Œè‚‰æ”¾æ¾ã€‚è¿™ç§ç»„åˆç–—æ³•èƒ½åœ¨çŸ­æ—¶é—´å†…æœ‰æ•ˆç¼“è§£é«˜å‹åŠ›çŠ¶æ€ã€‚"
            };
            return tips[stressLevel] || tips['ä¸­ç­‰å‹åŠ›'];
        }

        // èŠå¤©åŠŸèƒ½
        async function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            
            const chatMessagesEl = document.getElementById('chat-messages');
            
            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            chatMessagesEl.innerHTML += `
                <div class="message user">
                    <strong>æ‚¨ï¼š</strong>${message}
                </div>
            `;
            
            // æ·»åŠ åˆ°èŠå¤©è®°å½•
            chatMessages.push({ role: 'user', content: message });
            
            input.value = '';
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            chatMessagesEl.innerHTML += `
                <div class="message bot">
                    <strong>AIåŠ©æ‰‹ï¼š</strong><span class="loading-text">æ­£åœ¨æ€è€ƒä¸­...</span>
                </div>
            `;
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            chatMessagesEl.scrollTop = chatMessagesEl.scrollHeight;
            
            try {
                // è°ƒç”¨DeepSeek APIè¿›è¡ŒèŠå¤©
                const response = await fetch(CONFIG.DEEPSEEK_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${CONFIG.DEEPSEEK_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: [
                            { role: 'system', content: 'ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è‡ªç„¶ç–—æ³•å¿ƒç†å’¨è¯¢å¸ˆï¼Œæ“…é•¿å¸®åŠ©å­¦ç”Ÿç¼“è§£å‹åŠ›ã€‚è¯·ç”¨æ¸©æš–ã€ä¸“ä¸šçš„è¯­æ°”å›ç­”å­¦ç”Ÿçš„é—®é¢˜ï¼Œå¹¶æä¾›å®ç”¨çš„å»ºè®®ã€‚' },
                            ...chatMessages
                        ],
                        temperature: 0.7,
                        max_tokens: 500
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status}`);
                }
                
                const data = await response.json();
                const botReply = data.choices[0].message.content;
                
                // æ›´æ–°èŠå¤©è®°å½•
                chatMessages.push({ role: 'assistant', content: botReply });
                
                // ç§»é™¤åŠ è½½çŠ¶æ€ï¼Œæ·»åŠ AIå›å¤
                const loadingMessage = chatMessagesEl.lastElementChild;
                loadingMessage.innerHTML = `<strong>AIåŠ©æ‰‹ï¼š</strong>${botReply}`;
                
            } catch (error) {
                console.error('èŠå¤©APIè°ƒç”¨å¤±è´¥:', error);
                
                // ä½¿ç”¨å¤‡ç”¨å›å¤
                const responses = [
                    "æˆ‘ç†è§£æ‚¨çš„æ„Ÿå—ã€‚æ ¹æ®æ‚¨çš„è¯„ä¼°ç»“æœï¼Œå»ºè®®æ‚¨å°è¯•æˆ‘ä»¬æ¨èçš„å¹²é¢„æ–¹æ¡ˆã€‚",
                    "å‹åŠ›ç®¡ç†æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œéœ€è¦æ—¶é—´å’Œè€å¿ƒã€‚æ‚¨å¯ä»¥å…ˆä»ç®€å•çš„è‡ªç„¶æ¥è§¦å¼€å§‹ã€‚",
                    "å¦‚æœæ‚¨æ„Ÿåˆ°å‹åŠ›è¿‡å¤§ï¼Œå»ºè®®å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆçš„å¸®åŠ©ã€‚",
                    "è®°ä½ï¼Œæ‚¨å¹¶ä¸å­¤å•ã€‚å¾ˆå¤šå­¦ç”Ÿéƒ½é¢ä¸´ç±»ä¼¼çš„å‹åŠ›ï¼Œé‡è¦çš„æ˜¯æ‰¾åˆ°é€‚åˆè‡ªå·±çš„åº”å¯¹æ–¹å¼ã€‚",
                    "è‡ªç„¶ç–—æ³•æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå®ƒæ²¡æœ‰å‰¯ä½œç”¨ï¼Œè€Œä¸”æ•ˆæœæŒä¹…ã€‚"
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                
                const loadingMessage = chatMessagesEl.lastElementChild;
                loadingMessage.innerHTML = `<strong>AIåŠ©æ‰‹ï¼š</strong>${randomResponse}`;
                
                chatMessages.push({ role: 'assistant', content: randomResponse });
            }
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            chatMessagesEl.scrollTop = chatMessagesEl.scrollHeight;
            
            // é™åˆ¶èŠå¤©è®°å½•é•¿åº¦
            if (chatMessages.length > CONFIG.MAX_CHAT_MESSAGES) {
                chatMessages.splice(0, chatMessages.length - CONFIG.MAX_CHAT_MESSAGES);
            }
        }

        // å›è½¦å‘é€æ¶ˆæ¯
        document.addEventListener('keypress', function(e) {
            if (e.target.id === 'chat-input' && e.key === 'Enter') {
                sendMessage();
            }
        });

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('MindGardenå¹³å°å·²åŠ è½½å®Œæˆ');
        });
    </script>
</body>
</html>
